<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="public/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <title>Login</title>
</head>
<body>


<div class="title">
  <h3>Bem vindo ao carrinho de compras!</h3>
</div>



  <div class="container">
    <form action="payment.html">
      <label for="cep">CEP</label>
      <input inputmode="numeric" class="mt-2" maxlength="5" size="5" id ="CEP" name="cep" onkeyup="dividirInput(this, document.getElementById('cep2'))">
      <input id ="cep2" inputmode="numeric" class="mt-2" maxlength="3" size ="3" id ="CEP" name="cep" ">
      <button type="submit" class="btn shadow-btn shadow" name="submit" id="submit" value="submit">Cálcular Frete</button>
    
    <table class="table mt-2">
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col">Produto</th>
            <th scope="col">Quantidade</th>
            <th scope="col">Entrega</th>
            <th scope="col">Valor Unitário</th>
            <th scope="col">Valor Total</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row" ><input type="checkbox" name="valor" data-valor="1100" value="1100" ></th>
            <td><img src="public/img/processador.jpg" onMouseover="this.src= 'public/img/ryzen.jpg' "onMouseout="this.src= 'public/img/processador.jpg'  "></td>
            <td></td>
            <td>Ryzen 5 5600x</td>
            <td><input size="2" type="number" name="quantidade" value="1"> </td>
            <td>CEP</td>
            <td>R$1,100</td>
            <td></td>
          
          </tr>
          <tr>
            <th scope="row"><input type="checkbox" type="text" data-valor="4000" value="4000" name="valor" ></th>
            <td><img src="public/img/download.jpg" onMouseover="this.src= 'public/img/download.jpg' "onMouseout="this.src= 'public/img/images.jpg'  "></td>
            <td></td>
            <td>RTX 3070TI</td>
            <td><input size="2" type="number" name="quantidade" value="1"></td>
            <td>CEP</td>
            <td>R$4.000,00</td>
            <td></td>
          </tr>
          <tr>
            <th scope="row"><input type="checkbox" type="text" data-valor="7000" value="7000" name="valor" ></th>
            <td><img src="public/img/asus.jpg" onMouseover="this.src= 'public/img/asus.jpg' "onMouseout="this.src= 'public/img/b450.jpg'  "></td>
            <td></td>
            <td>PLACA MÃE ASUS B450M GAMING</td>
            <td><input size="2" type="number" name="quantidade" ></td>
            <td>CEP</td>
            <td>R$700,00</td>
            <td></td>
          </tr>
          <tr>
            <th scope="row"><input type="checkbox" type="text" name="valor" data-valor="400" value="400" ></th>
            <td><img src="public/img/cx.jpg" onMouseover="this.src= 'public/img/cx.jpg' "onMouseout="this.src= 'public/img/corsair.jpg'  "></td>
            <td></td>
            <td>FONTE CORSAIR CX600</td>
            <td><input size="2" type="number" name="quantidade" value="1"></td>
            <td>CEP</td>
            <td>R$400,00</td>
            <td></td>
          </tr>
          <tr>
            <th scope="row"><input type="checkbox" type="text" name="valor" data-valor="4000" value="4000" ></th>
            <td><img src="public/img/memoria.jpg" onMouseover="this.src= 'public/img/memoria.jpg' "onMouseout="this.src= 'public/img/memoria2.jpg'  "></td>
            <td></td>
            <td>RTX 3070TI</td>
            <td><input size="2" type="number" name="quantidade" value="1"></td>
            <td>CEP</td>
            <td>R$4000,00</td>
            <td></td>
          </tr>

        </tbody>
      </table>
    
      <button class="btn btn-dark">Comprar</button>
    </form>
    
    
    
    <h3 class="text-end">Subtotal: <span id="subtotal">0</span></h3>
    <h3 class="text-end">Frete: <span id="frete">0</span></h3>
    <h3 class="text-end">Total: <span id="total">0</span></h3>


    </div>



<script>

 
  const checkboxes = document.querySelectorAll('input[type="checkbox"]');
  const subtotalSpan = document.getElementById("subtotal");
  const freteSpan = document.getElementById("frete");
  const totalSpan = document.getElementById("total");





  checkboxes.forEach(function(checkbox) {
    checkbox.addEventListener("change", function() {
      let subtotal = 0;
      let values = [];
      
      checkboxes.forEach(function(checkbox) {
        if(checkbox.checked) {
          values.push(parseFloat(checkbox.getAttribute("data-valor")));
          subtotal += parseFloat(checkbox.getAttribute("data-valor"));
        }
      });
      
      const frete = 100;
      const total = subtotal + frete;
      
      subtotalSpan.textContent = subtotal;
      freteSpan.textContent = frete;
      totalSpan.textContent = total * quantidadeInput.value;;
    });
  });

 


</script>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
<script src="scripts/cart.js"></script>
</body>
</html>